jQuery((function(e){e(".image-sizes-help-heading").click((function(i){var s=e(this).data("target");e(".image-sizes-help-text:not("+s+")").slideUp(),e(s).is(":hidden")?e(s).slideDown():e(s).slideUp()}));var i=e(".check-all"),s=e(".check-all-default"),t=e(".check-all-custom");i.change((function(){e(".check-all-default,.check-all-custom").prop("checked",this.checked).change()})),s.change((function(){e(".check-default").prop("checked",this.checked),e(".check-this").change()})),t.change((function(){e(".check-custom").prop("checked",this.checked),e(".check-this").change()})),e(".check-this").change((function(i){e(".check-this").length;var s=e(".check-this:not(:checked)").length,t=e(".check-this:checked").length;e("#disabled-counter .counter").text(t),e("#enabled-counter .counter").text(s)})).change();var a=e("#image-sizes_regenerate-thumbs-limit").val();e("#image-sizes_regenerate-thumbs-limit").bind("keyup mouseup",(function(){a=e(this).val()}));function c(i,s,t,a){e.ajax({url:IMAGE_SIZES.ajaxurl,type:"GET",data:{action:"image_sizes-regen-thumbs",offset:s,limit:i,thumbs_deleteds:t,thumbs_createds:a,_nonce:IMAGE_SIZES.nonce},success:function(s){if(s.has_image){var t=s.offset/s.total_images_count*100;e(".image-sizes-progress-content").text(Math.ceil(t)+"%").css({width:t+"%"}),c(i,s.offset,s.thumbs_deleted,s.thumbs_created)}else e("#image_sizes-regen-thumbs").text(IMAGE_SIZES.regen).attr("disabled",!1),e("#image_sizes-message").html(s.message).show(),e(".image-sizes-progress-panel .image-sizes-progress-content").addClass("progress-full");console.log(s)},error:function(i){e("#image_sizes-regen-thumbs").text(IMAGE_SIZES.regen).attr("disabled",!1),console.log(i)}})}e("#image_sizes-regen-thumbs").click((function(i){e("#image_sizes-regen-thumbs").text(IMAGE_SIZES.regening).attr("disabled",!0),e("#image_sizes-message").html("").hide(),e(".image-sizes-progress-panel").hide(),c(a,0,0,0),e("#image_sizes-regen-thumbs").after('<div class="image-sizes-progress-panel"><div class="image-sizes-progress-content" style="width:0%"><span>0%</span></div></div></div>')})),e(".image_sizes-dismiss").click((function(i){var s=e(this);s.parent().slideToggle(),e.ajax({url:IMAGE_SIZES.ajaxurl,data:{action:"image_sizes-dismiss",meta_key:s.data("meta_key"),_nonce:IMAGE_SIZES.nonce},type:"GET",success:function(e){console.log(e)},error:function(e){console.log(e)}})})),e("#image_sizes-regen-wrap span").click((function(i){alert(e(this).attr("title"))})),e(document).on("click","#cx-optimized",(function(i){e("#cx-nav-label-image-sizes_optimize").trigger("click")})),e(".image_sizes-action").click((function(i){i.preventDefault(),e("#image_sizes-optimize").attr("disabled",!0),e("#image_sizes-pro-message").html("");var s=e("#cx-free-optimize #cx-optimize"),t=e(this),a=s.serializeArray(),c="analyze"==e(this).attr("name")?"analyze":"optimize";t.val("optimize"==c?IMAGE_SIZES.optimizing:IMAGE_SIZES.analyzing).attr("disabled",!0),a.push({name:"operation",value:c}),e.ajax({url:ajaxurl,type:"POST",data:a,dataType:"JSON",success:function(i){1==i.status&&e("#image_sizes-optimize").attr("disabled",!1),t.val("optimize"==c?IMAGE_SIZES.optimize:IMAGE_SIZES.analyze).attr("disabled",!1),console.log(i),e("#image_sizes-pro-message").html(i.html)},error:function(e){t.val("optimize"==c?IMAGE_SIZES.optimize:IMAGE_SIZES.analyze).attr("disabled",!1),console.log(e)}})}))}));