jQuery(document).ready((function(){var e,i,t,r,a,s,n,o,d,l,u,c=function(){jQuery("#masthead .search-form-top").removeClass("show")};if(jQuery(".search-top").click((function(){jQuery(this).next("#masthead .search-form-top").toggleClass("show"),setTimeout((function(){jQuery("#masthead .search-form-top input").focus()}),200),jQuery(document).on("keyup",(function(e){27===e.keyCode&&jQuery("#masthead .search-form-top").hasClass("show")&&c()})),jQuery(document).on("click.outEvent",(function(e){e.target.closest(".top-search-wrap")||(c(),jQuery(document).off("click.outEvent"))}))})),jQuery("#scroll-up").hide(),jQuery(window).scroll((function(){jQuery(this).scrollTop()>1e3?jQuery("#scroll-up").fadeIn():jQuery("#scroll-up").fadeOut()})),jQuery("a#scroll-up").click((function(){return jQuery("body,html").animate({scrollTop:0},800),!1})),jQuery(".menu-primary-container .menu-item-has-children").append('<span class="sub-toggle"> <i class="fa fa-angle-right"></i> </span>'),jQuery(".menu-primary-container .sub-toggle").click((function(){jQuery(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000"),jQuery(this).children(".fa-angle-right").first().toggleClass("fa-angle-down")})),jQuery(document).on("click","#site-navigation ul li.menu-item-has-children > a",(function(e){var i=jQuery(this).parent(".menu-item-has-children");!i.hasClass("focus")&&jQuery(window).width()<=768&&(i.addClass("focus"),e.preventDefault(),i.children(".sub-menu").css({display:"block"}))})),jQuery(window).on("load",(function(){if(window.matchMedia("(max-width: 768px)").matches&&jQuery("#masthead .sticky-wrapper, #masthead .headroom").length>=1){var e=jQuery(window).height()-88,i=jQuery("#site-navigation").find("ul").first();i.css("max-height",e),i.addClass("menu-scrollbar")}})),void 0!==jQuery.fn.magnificPopup&&(jQuery(".image-popup").magnificPopup({type:"image"}),jQuery(".gallery").find('a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".ico"]').magnificPopup({type:"image",gallery:{enabled:!0}}),jQuery(".colormag-ticker-news-popup-link").magnificPopup({type:"ajax",callbacks:{parseAjax:function(e){var i=jQuery.magnificPopup.instance,t=jQuery(i.currItem.el[0]).data("fragment");e.data=jQuery(e.data).find(t)}}})),void 0!==jQuery.fn.fitVids&&jQuery(".fitvids-video").fitVids(),void 0!==jQuery.fn.newsTicker){if("undefined"!=typeof colormag_ticker_settings){var g=colormag_ticker_settings.breaking_news_slide_effect,h=parseInt(colormag_ticker_settings.breaking_news_duration,10),p=parseInt(colormag_ticker_settings.breaking_news_speed,10);jQuery(".newsticker").newsTicker({row_height:20,max_rows:1,direction:g,speed:p,duration:h,autostart:1,pauseOnHover:1,start:function(){jQuery(".newsticker").css("visibility","visible")}})}var y=jQuery(".breaking_news_widget_inner_wrap");jQuery(y).each((function(){!function(e,i,t,r,a,s,n){jQuery(e).newsTicker({row_height:s,max_rows:n,duration:a,direction:r,prevButton:jQuery(i),nextButton:jQuery(t),start:function(){jQuery(".breaking-news-widget-slide").css("visibility","visible")}})}(jQuery(this).children(".breaking-news-widget-slide"),jQuery(this).children(".fa-arrow-up"),jQuery(this).children(".fa-arrow-down"),jQuery(this).children(".breaking-news-widget-slide").data("direction"),jQuery(this).children(".breaking-news-widget-slide").data("duration"),jQuery(this).children(".breaking-news-widget-slide").data("rowheight"),jQuery(this).children(".breaking-news-widget-slide").data("maxrows"))}))}void 0!==jQuery.fn.sticky&&((m=jQuery("#wpadminbar")).length?jQuery("#site-navigation").sticky({topSpacing:m.height(),zIndex:999}):jQuery("#site-navigation").sticky({topSpacing:0,zIndex:999}));if(void 0!==jQuery.fn.headroom){var f=jQuery("#site-navigation").offset().top,m=jQuery("#wpadminbar"),j=jQuery(".main-navigation").width();m.length&&(f=m.height()+jQuery("#site-navigation").offset().top),jQuery(".main-navigation").headroom({offset:f,tolerance:0,onPin:function(){m.length?jQuery(".main-navigation").css({top:m.height(),position:"fixed",width:j}):jQuery(".main-navigation").css({top:0,position:"fixed",width:j})},onTop:function(){jQuery(".main-navigation").css({top:0,position:"relative"})}})}if(void 0!==jQuery.fn.bxSlider){var Q=jQuery(".widget_featured_slider_inner_wrap");jQuery(Q).each((function(){!function(e,i,t,r,a,s){jQuery(e).bxSlider({mode:i,speed:t,auto:a,pause:r,autoHover:s,adaptiveHeight:!0,nextText:'<div class="category-slide-next"><i class="fa fa-angle-right"></i></div>',prevText:'<div class="category-slide-prev"><i class="fa fa-angle-left"></i></div>',pager:!1,tickerHover:!0,onSliderLoad:function(){jQuery(".widget_slider_area_rotate").css("visibility","visible"),jQuery(".widget_slider_area_rotate").css("height","auto")}})}(jQuery(this).children(".widget_slider_area_rotate"),jQuery(this).children(".widget_slider_area_rotate").data("mode"),jQuery(this).children(".widget_slider_area_rotate").data("speed"),jQuery(this).children(".widget_slider_area_rotate").data("pause"),jQuery(this).children(".widget_slider_area_rotate").data("auto"),jQuery(this).children(".widget_slider_area_rotate").data("hover"))}));var w=jQuery(".widget_block_picture_news_inner_wrap");jQuery(w).each((function(){!function(e,i,t,r,a){jQuery(e).bxSlider({minSlides:1,maxSlides:2,slideWidth:390,slideMargin:20,speed:i,pause:t,auto:r,autoHover:a,adaptiveHeight:!0,nextText:'<div class="slide-next"><i class="fa fa-angle-right"></i></div>',prevText:'<div class="slide-prev"><i class="fa fa-angle-left"></i></div>',pager:!1,captions:!1,onSliderLoad:function(){jQuery(".widget_block_picture_news .widget_highlighted_post_area").css("visibility","visible"),jQuery(".widget_block_picture_news .widget_highlighted_post_area").css("height","auto")}})}(jQuery(this).children(".widget_block_picture_news .widget_highlighted_post_area"),jQuery(this).children(".widget_block_picture_news .widget_highlighted_post_area").data("speed"),jQuery(this).children(".widget_block_picture_news .widget_highlighted_post_area").data("pause"),jQuery(this).children(".widget_block_picture_news .widget_highlighted_post_area").data("auto"),jQuery(this).children(".widget_block_picture_news .widget_highlighted_post_area").data("hover"))}));var _=jQuery(".thumbnail-slider-news");jQuery(_).each((function(){!function(e,i,t,r,a,s,n){jQuery(e).bxSlider({mode:t,speed:r,pause:a,auto:s,pagerCustom:i,autoHover:n,controls:!1,nextText:"",prevText:"",nextSelector:"",prevSelector:"",captions:!1,onSliderLoad:function(){jQuery(".thumbnail-big-sliders").css("visibility","visible"),jQuery(".thumbnail-big-sliders").css("height","auto")}})}(jQuery(this).children(".thumbnail-big-sliders"),jQuery(this).children(".thumbnail-slider"),jQuery(this).children(".thumbnail-big-sliders").data("mode"),jQuery(this).children(".thumbnail-big-sliders").data("speed"),jQuery(this).children(".thumbnail-big-sliders").data("pause"),jQuery(this).children(".thumbnail-big-sliders").data("auto"),jQuery(this).children(".thumbnail-big-sliders").data("hover"))}));var v=jQuery(".widget_ticker_news_colormag");jQuery(v).each((function(){!function(e,i){jQuery(e).bxSlider({minSlides:5,maxSlides:8,slideWidth:150,slideMargin:12,ticker:!0,speed:i,tickerHover:!0,useCSS:!1,onSliderLoad:function(){jQuery(".image-ticker-news").css("visibility","visible"),jQuery(".image-ticker-news").css("height","auto")}})}(jQuery(this).children(".image-ticker-news"),jQuery(this).children(".image-ticker-news").data("speed"))})),jQuery(".blog .gallery-images, .archive .gallery-images, .search .gallery-images, .single-post .gallery-images").bxSlider({mode:"fade",speed:1500,auto:!0,pause:3e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1}),jQuery(window).on("load colormagAjaxSinglePostLoaded",(function(){jQuery(".related-post-carousel").bxSlider({minSlides:1,maxSlides:2,auto:!0,slideWidth:390,slideMargin:20,moveSlides:1,shrinkItems:!0,speed:3e3,autoHover:!0,nextText:'<div class="slide-next"><i class="fa fa-angle-right"></i></div>',prevText:'<div class="slide-prev"><i class="fa fa-angle-left"></i></div>',pager:!1,captions:!1,onSliderLoad:function(){jQuery(".related-post-carousel").css("visibility","visible"),jQuery(".related-post-carousel").css("height","auto")}})}))}if(void 0!==jQuery.fn.easytabs&&jQuery(".tabbed-widget").easytabs(),void 0!==jQuery.fn.theiaStickySidebar&&"undefined"!=typeof ResizeSensor){var b=jQuery("#site-navigation-sticky-wrapper").outerHeight();null===b&&(b=0),jQuery("#primary, #secondary, #tertiary").theiaStickySidebar({additionalMarginTop:40+b})}function k(e){e.find(".player-frame").each((function(){var e=jQuery(this),i=jQuery('[data-id="'+e.attr("id")+'"]');e.addVideoEvent("play",(function(e,t,r){i.removeClass("is-paused").addClass("is-playing")})),e.addVideoEvent("pause",(function(e,t,r){i.removeClass("is-playing").addClass("is-paused")})),e.addVideoEvent("finish",(function(e,t,r){i.removeClass("is-paused is-playing")}))}))}if(jQuery(".video-player").each((function(e){var i=jQuery(this),t="video-playlist-item-"+e,r=jQuery(this).find(".player-frame");i.attr("id",t),r.video(),k(i),r.addVideoEvent("ready",(function(){r.css("visibility","visible").fadeIn()})),i.on("click",".video-playlist-item",(function(){var e=jQuery(this),t=e.data("id"),r=jQuery("#"+t),a=e.data("src");i.find(".player-frame").each((function(){jQuery(this).pauseVideo().hide()})),r.length?r.playVideo():(i.find(".video-frame").append('<iframe id="'+t+'" class="player-frame" src="'+a+'" frameborder="0" width="100%" height="434" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),(r=jQuery("#"+t)).video(),r.addVideoEvent("ready",(function(e,i,t){r.playVideo()}))),r.css("visibility","visible").fadeIn(),k(i)}))})),void 0!==jQuery.fn.prognroll&&jQuery("body").prognroll({height:5,color:colormag_progress_bar_bgcolor.bg_color,custom:!1}),"undefined"!=typeof google&&"undefined"!=typeof colormag_google_maps_widget_settings){e=parseFloat(colormag_google_maps_widget_settings.longitude),i=parseFloat(colormag_google_maps_widget_settings.latitude),t=parseInt(colormag_google_maps_widget_settings.zoom_size),r={lat:i,lng:e},a=new google.maps.Map(document.getElementById("GoogleMaps"),{zoom:t,center:r}),new google.maps.Marker({position:r,map:a}),jQuery("#GoogleMaps").css({height:colormag_google_maps_widget_settings.height})}d=jQuery(".share-buttons #facebook")[0],l=jQuery(".share-buttons #twitter")[0],u=jQuery(".share-buttons #pinterest")[0],d&&jQuery(d).click((function(e){return e.preventDefault(),(s=window.open("https://www.facebook.com/sharer/sharer.php?u="+document.URL+"&p[title]="+document.title,"facebook-popup","height=350,width=600")).focus&&s.focus(),!1})),l&&jQuery(l).click((function(e){return e.preventDefault(),(n=window.open("https://twitter.com/share?text="+document.title+"&url="+document.URL,"twitter-popup","height=350,width=600")).focus&&n.focus(),!1})),u&&jQuery(u).click((function(e){e.preventDefault();var i=jQuery("#content .featured-image img").attr("src")?jQuery("#content .featured-image img").attr("src"):"";return(o=window.open("https://pinterest.com/pin/create/button/?url="+document.URL+"&media="+i+"&description="+document.title,"pinterest-popup","height=350,width=600")).focus&&o.focus(),!1}))})),jQuery((function(){var e=jQuery("#related-posts-wrapper-flyout");function i(){jQuery("#primary").outerHeight();var i=jQuery(this).scrollTop()+jQuery(this).height();i>jQuery(document).height()-i?e.addClass("flyout"):e.removeClass("flyout")}jQuery(window).on("scroll",i),jQuery("#flyout-related-post-close").click((function(){e.removeClass("flyout"),jQuery(window).off("scroll",i)}))}));